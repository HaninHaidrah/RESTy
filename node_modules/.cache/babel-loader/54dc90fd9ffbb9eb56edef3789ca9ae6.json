{"ast":null,"code":"import _regeneratorRuntime from\"/home/hanin/projects/courses/RESTy/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/hanin/projects/courses/RESTy/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/hanin/projects/courses/RESTy/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import\"./app.scss\";import\"./compononts/Result/result.scss\";import Header from\"./compononts/header\";import Footer from\"./compononts/Footer\";import Form from\"./compononts/Form\";import Results from\"./compononts/Result\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function App(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),requestParams=_useState4[0],setrequestParams=_useState4[1];var _useState5=useState({}),_useState6=_slicedToArray(_useState5,2),header=_useState6[0],setHeader=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),state=_useState8[0],setState=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),reqBody=_useState10[0],setBody=_useState10[1];var callApi=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(requestParams,requestBody){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setrequestParams(requestParams);setBody(requestBody);setHeader({root:requestParams.url,cache_control:\"string public\",age:\"86400\",s_maxage:\"86400\"});case 3:case\"end\":return _context.stop();}}},_callee);}));return function callApi(_x,_x2){return _ref.apply(this,arguments);};}();useEffect(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var requestforCreate,respond;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:requestforCreate={body:reqBody};if(!requestParams.url){_context2.next=13;break;}setData(null);if(!(requestParams.method==\"get\")){_context2.next=9;break;}_context2.next=6;return axios.get(requestParams.url);case 6:respond=_context2.sent;_context2.next=12;break;case 9:_context2.next=11;return axios.post(requestParams.url,requestforCreate.body);case 11:respond=_context2.sent;case 12:setData(respond.data);case 13:case\"end\":return _context2.stop();}}},_callee2);})),[requestParams.method,requestParams.url]);console.log();useEffect(function(){setTimeout(function(){setState(!state);},5000);},[data]);return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"div1\",\"data-testid\":\"url\",children:[\" \",requestParams.method,\" \",requestParams.url]}),/*#__PURE__*/_jsx(Form,{handleApiCall:callApi}),/*#__PURE__*/_jsx(Results,{data:data,header:header,state:state}),/*#__PURE__*/_jsx(Footer,{})]});}","map":{"version":3,"sources":["/home/hanin/projects/courses/RESTy/src/App.js"],"names":["React","useState","useEffect","Header","Footer","Form","Results","axios","App","data","setData","requestParams","setrequestParams","header","setHeader","state","setState","reqBody","setBody","callApi","requestBody","root","url","cache_control","age","s_maxage","requestforCreate","body","method","get","respond","post","console","log","setTimeout"],"mappings":"4VAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAO,YAAP,CACA,MAAO,iCAAP,CACA,MAAOC,CAAAA,MAAP,KAAmB,qBAAnB,CACA,MAAOC,CAAAA,MAAP,KAAmB,qBAAnB,CACA,MAAOC,CAAAA,IAAP,KAAiB,mBAAjB,CACA,MAAOC,CAAAA,OAAP,KAAoB,qBAApB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,C,wFAEA,cAAe,SAASC,CAAAA,GAAT,EAAe,CAC5B,cAAsBP,QAAQ,CAAC,IAAD,CAA9B,wCAAKQ,IAAL,eAAWC,OAAX,eACA,eAAwCT,QAAQ,CAAC,EAAD,CAAhD,yCAAKU,aAAL,eAAoBC,gBAApB,eACA,eAA0BX,QAAQ,CAAC,EAAD,CAAlC,yCAAKY,MAAL,eAAaC,SAAb,eACA,eAA0Bb,QAAQ,CAAC,KAAD,CAAlC,yCAAOc,KAAP,eAAcC,QAAd,eACA,eAAyBf,QAAQ,CAAC,EAAD,CAAjC,0CAAKgB,OAAL,gBAAcC,OAAd,gBAGA,GAAMC,CAAAA,OAAO,0FAAG,iBAAOR,aAAP,CAAsBS,WAAtB,kHACdR,gBAAgB,CAACD,aAAD,CAAhB,CACAO,OAAO,CAACE,WAAD,CAAP,CACAN,SAAS,CAAC,CACRO,IAAI,CAAEV,aAAa,CAACW,GADZ,CAERC,aAAa,CAAE,eAFP,CAGRC,GAAG,CAAE,OAHG,CAIRC,QAAQ,CAAE,OAJF,CAAD,CAAT,CAHc,sDAAH,kBAAPN,CAAAA,OAAO,gDAAb,CAUAjB,SAAS,sEAAC,qKACFwB,gBADE,CACiB,CACvBC,IAAI,CAAEV,OADiB,CADjB,KAKJN,aAAa,CAACW,GALV,2BAMNZ,OAAO,CAAC,IAAD,CAAP,CANM,KAONC,aAAa,CAACiB,MAAd,EAAwB,KAPlB,kDAQerB,CAAAA,KAAK,CAACsB,GAAN,CAAUlB,aAAa,CAACW,GAAxB,CARf,QAQDQ,OARC,uEASevB,CAAAA,KAAK,CAACwB,IAAN,CACfpB,aAAa,CAACW,GADC,CAEfI,gBAAgB,CAACC,IAFF,CATf,SASDG,OATC,wBAaNpB,OAAO,CAACoB,OAAO,CAACrB,IAAT,CAAP,CAbM,yDAAD,GAeN,CAACE,aAAa,CAACiB,MAAf,CAAuBjB,aAAa,CAACW,GAArC,CAfM,CAAT,CAgBAU,OAAO,CAACC,GAAR,GAEA/B,SAAS,CAAC,UAAM,CACdgC,UAAU,CAAC,UAAM,CACflB,QAAQ,CAAC,CAACD,KAAF,CAAR,CACD,CAFS,CAEP,IAFO,CAAV,CAGD,CAJQ,CAIN,CAACN,IAAD,CAJM,CAAT,CAOA,mBACE,MAAC,KAAD,CAAO,QAAP,yBACE,KAAC,MAAD,IADF,cAEE,aAAK,SAAS,CAAC,MAAf,CAAsB,cAAY,KAAlC,WACG,GADH,CAEGE,aAAa,CAACiB,MAFjB,KAE0BjB,aAAa,CAACW,GAFxC,GAFF,cAOE,KAAC,IAAD,EAAM,aAAa,CAAEH,OAArB,EAPF,cAQE,KAAC,OAAD,EAAS,IAAI,CAAEV,IAAf,CAAsB,MAAM,CAAEI,MAA9B,CAAsC,KAAK,CAAEE,KAA7C,EARF,cASE,KAAC,MAAD,IATF,GADF,CAaD","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport \"./app.scss\";\nimport \"./compononts/Result/result.scss\";\nimport Header from \"./compononts/header\";\nimport Footer from \"./compononts/Footer\";\nimport Form from \"./compononts/Form\";\nimport Results from \"./compononts/Result\";\nimport axios from \"axios\";\n\nexport default function App() {\n  let [data, setData] = useState(null);\n  let [requestParams, setrequestParams] = useState({});\n  let [header, setHeader] = useState({});\n  const [state, setState] = useState(false);\n  let [reqBody, setBody] = useState(\"\");\n\n\n  const callApi = async (requestParams, requestBody) => {\n    setrequestParams(requestParams);\n    setBody(requestBody);\n    setHeader({\n      root: requestParams.url,\n      cache_control: \"string public\",\n      age: \"86400\",\n      s_maxage: \"86400\",\n    });\n  };\n  useEffect(async () => {\n    const requestforCreate = {\n      body: reqBody,\n    };\n    let respond;\n    if (requestParams.url) {\n      setData(null);\n      requestParams.method == \"get\"\n        ? (respond = await axios.get(requestParams.url))\n        : (respond = await axios.post(\n            requestParams.url,\n            requestforCreate.body\n          ));\n      setData(respond.data);\n    }\n  }, [requestParams.method, requestParams.url]);\n  console.log();\n\n  useEffect(() => {\n    setTimeout(() => {\n      setState(!state);\n    }, 5000);\n  }, [data]);\n\n\n  return (\n    <React.Fragment>\n      <Header />\n      <div className=\"div1\" data-testid=\"url\">\n        {\" \"}\n        {requestParams.method} {requestParams.url}\n      </div>\n\n      <Form handleApiCall={callApi} />\n      <Results data={data}  header={header} state={state} />\n      <Footer />\n    </React.Fragment>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}